<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8" />
    <title>{% block title %}Mon Quiz{% endblock %}</title>
</head>
<body style="margin:0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background:#f9f9fb; color:#333;">

    <nav style="background:#6c5ce7; padding:1rem 2rem; display:flex; justify-content:center; gap:1.5rem; box-shadow:0 2px 8px rgba(108,92,231,0.3); flex-wrap:wrap;">
        {% if app.user %}
            <a href="{{ path('quiz_global') }}" title="Accéder aux quiz" style="color:#fff; text-decoration:none; font-weight:600; padding:0.5rem 1rem; border-radius:6px; border:2px solid transparent; transition: all 0.3s ease;">Quiz</a>
            <a href="{{ path('account_email') }}" title="Changer votre adresse email" style="color:#fff; text-decoration:none; font-weight:600; padding:0.5rem 1rem; border-radius:6px; border:2px solid transparent; transition: all 0.3s ease;">Changer email</a>
            <a href="{{ path('account_password') }}" title="Modifier votre mot de passe" style="color:#fff; text-decoration:none; font-weight:600; padding:0.5rem 1rem; border-radius:6px; border:2px solid transparent; transition: all 0.3s ease;">Changer mot de passe</a>
            <a href="{{ path('app_logout') }}" title="Se déconnecter" style="color:#fff; text-decoration:none; font-weight:600; padding:0.5rem 1rem; border-radius:6px; border:2px solid transparent; transition: all 0.3s ease;">Déconnexion</a>
        {% else %}
            <a href="{{ path('app_login') }}" title="Se connecter" style="color:#fff; text-decoration:none; font-weight:600; padding:0.5rem 1rem; border-radius:6px; border:2px solid transparent; transition: all 0.3s ease;">Connexion</a>
            <a href="{{ path('app_register') }}" title="Créer un compte" style="color:#fff; text-decoration:none; font-weight:600; padding:0.5rem 1rem; border-radius:6px; border:2px solid transparent; transition: all 0.3s ease;">Inscription</a>
        {% endif %}
    </nav>

    {% for label, messages in app.flashes %}
        {% for message in messages %}
            <div style="
                margin: 1rem auto;
                padding: 1rem 1.5rem;
                max-width: 600px;
                border-radius: 4px;
                font-size: 0.95rem;
                background-color: {% if label == 'success' %}#d4edda{% elseif label == 'error' %}#f8d7da{% elseif label == 'info' %}#d1ecf1{% elseif label == 'warning' %}#fff3cd{% else %}#f0f0f0{% endif %};
                color: {% if label == 'success' %}#155724{% elseif label == 'error' %}#721c24{% elseif label == 'info' %}#0c5460{% elseif label == 'warning' %}#856404{% else %}#333{% endif %};
                border-left: 5px solid {% if label == 'success' %}#28a745{% elseif label == 'error' %}#dc3545{% elseif label == 'info' %}#17a2b8{% elseif label == 'warning' %}#ffc107{% else %}gray{% endif %};
            ">
                {{ message }}
            </div>
        {% endfor %}
    {% endfor %}

    <main style="max-width: 900px; margin: 2rem auto; padding: 0 1rem;">
        {% block body %}{% endblock %}
    </main>

    <script>
        // Hover effect en inline impossible en CSS, donc on utilise JS pour animer nav links
        document.querySelectorAll('nav a').forEach(link => {
            link.addEventListener('mouseenter', () => {
                link.style.backgroundColor = 'white';
                link.style.color = '#6c5ce7';
                link.style.borderColor = '#6c5ce7';
            });
            link.addEventListener('mouseleave', () => {
                link.style.backgroundColor = 'transparent';
                link.style.color = 'white';
                link.style.borderColor = 'transparent';
            });
        });
    </script>

</body>
</html>
